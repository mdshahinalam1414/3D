<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sci-Fi Branch Timeline</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap');

body{
  margin:0;
  padding:0;
  font-family:'Orbitron',sans-serif;
  overflow-x:hidden;
  color:#00ffff;
  background: radial-gradient(circle at center,#0f0c29,#000814);
}

/* Canvas */
#bgCanvas{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  z-index:-1;
}

/* Heading */
h2{
  text-align:center;
  margin-top:20px;
  text-shadow:0 0 15px #0ff;
}

/* Login */
#loginDiv{
  position:fixed;
  top:20px;
  left:20px;
  background:rgba(0,0,0,0.6);
  padding:15px;
  border-radius:15px;
  box-shadow:0 0 25px #0ff;
  width:230px;
  backdrop-filter:blur(8px);
}

#loginDiv input,#loginDiv button{
  width:100%;
  margin:8px 0;
  padding:8px;
  border-radius:8px;
  border:none;
  background:rgba(0,0,0,0.4);
  color:#0ff;
  font-family:'Orbitron',sans-serif;
}

/* Add Event (Smaller) */
#addEvent{
  position:fixed;
  top:20px;
  right:20px;
  background:rgba(0,0,0,0.6);
  padding:15px;
  border-radius:15px;
  box-shadow:0 0 25px #0ff;
  width:230px;
  display:none;
  backdrop-filter:blur(8px);
}

#addEvent input,#addEvent textarea,#addEvent button{
  width:100%;
  margin:6px 0;
  padding:7px;
  border-radius:8px;
  border:none;
  background:rgba(0,0,0,0.4);
  color:#0ff;
  font-family:'Orbitron',sans-serif;
  font-size:12px;
}

#addEvent textarea{
  height:50px;
  resize:none;
}

/* ===== Timeline Structure ===== */
.timeline-wrapper{
  position:relative;
  width:100%;
  height:450px;
  margin-top:100px;
  overflow-x:auto;
}

.timeline-line{
  position:absolute;
  top:50%;
  left:0;
  height:4px;
  width:2000px;
  background:#00ffff;
  box-shadow:0 0 15px #0ff;
}

/* Event */
.event-node{
  position:absolute;
  width:220px;
  background:rgba(0,15,25,0.8);
  padding:15px;
  border-radius:12px;
  border:1px solid rgba(0,255,255,0.5);
  box-shadow:0 0 20px #0ff;
  transition:0.3s;
}

.event-node:hover{
  transform:scale(1.05);
  box-shadow:0 0 35px #0ff;
}

/* Branch Line */
.branch{
  position:absolute;
  width:2px;
  background:#00ffff;
  box-shadow:0 0 10px #0ff;
}

/* START & END */
.special{
  background:#001f2f;
  text-align:center;
  font-weight:bold;
  color:#fffc00;
}

</style>
</head>
<body>

<canvas id="bgCanvas"></canvas>
<h2>Sci-Fi Branch Timeline</h2>

<div id="loginDiv">
  <h4>Admin</h4>
  <input type="text" id="username" placeholder="Username">
  <input type="password" id="password" placeholder="Password">
  <button onclick="login()">Login</button>
  <p id="loginMsg" style="color:red;text-align:center;"></p>
</div>

<form id="addEvent">
  <h4>Add Event</h4>
  <input type="date" name="date" required />
  <input type="text" name="title" placeholder="Title" required />
  <textarea name="description" placeholder="Description" required></textarea>
  <input type="url" name="image" placeholder="Image URL" />
  <button type="submit">Add</button>
</form>

<div class="timeline-wrapper">
  <div class="timeline-line"></div>
  <div id="timeline"></div>
</div>

<script>
const adminUser="admin";
const adminPass="1234";

let events=[
 {date:"2026-02-01",title:"Initial Event",description:"Timeline begins here.",image:""}
];

function login(){
 const user=username.value;
 const pass=password.value;
 if(user===adminUser && pass===adminPass){
   loginDiv.style.display="none";
   addEvent.style.display="block";
 }else{
   loginMsg.textContent="Invalid Login!";
 }
}

function renderTimeline(){
 events.sort((a,b)=>new Date(a.date)-new Date(b.date));
 const container=document.getElementById("timeline");
 container.innerHTML="";

 let spacing=250;

 // START
 createNode("START","Timeline Start",0,true);

 events.forEach((item,index)=>{
   createNode(item.title,item.description,(index+1)*spacing,false,index);
 });

 // END
 createNode("END","Timeline End",(events.length+1)*spacing,true);
}

function createNode(title,desc,leftPos,isSpecial,index=0){
 const node=document.createElement("div");
 node.className="event-node"+(isSpecial?" special":"");
 node.style.left=leftPos+"px";

 let topPos;
 if(isSpecial){
   topPos="42%";
 }else{
   topPos=(index%2===0)?"15%":"65%";
 }

 node.style.top=topPos;
 node.innerHTML=`<h4>${title}</h4><p style="font-size:12px">${desc}</p>`;

 document.getElementById("timeline").appendChild(node);

 // Branch line
 if(!isSpecial){
   const branch=document.createElement("div");
   branch.className="branch";
   branch.style.left=(leftPos+110)+"px";
   branch.style.top=(index%2===0)?"50%":"50%";
   branch.style.height=(index%2===0)?"-80px":"80px";
   branch.style.transform=(index%2===0)?"translateY(-80px)":"";
   document.getElementById("timeline").appendChild(branch);
 }
}

renderTimeline();

addEvent.addEventListener("submit",(e)=>{
 e.preventDefault();
 events.push({
   date:e.target.date.value,
   title:e.target.title.value,
   description:e.target.description.value
 });
 renderTimeline();
 e.target.reset();
});

/* Animated Background */
const canvas=document.getElementById("bgCanvas");
const ctx=canvas.getContext("2d");

function resize(){
 canvas.width=window.innerWidth;
 canvas.height=window.innerHeight;
}
resize();
window.addEventListener("resize",resize);

let particles=[];
for(let i=0;i<100;i++){
 particles.push({
   x:Math.random()*canvas.width,
   y:Math.random()*canvas.height,
   vx:(Math.random()-0.5)*0.5,
   vy:(Math.random()-0.5)*0.5,
   r:2
 });
}

function animate(){
 ctx.clearRect(0,0,canvas.width,canvas.height);
 particles.forEach(p=>{
   p.x+=p.vx;
   p.y+=p.vy;
   if(p.x<0||p.x>canvas.width)p.vx*=-1;
   if(p.y<0||p.y>canvas.height)p.vy*=-1;
   ctx.beginPath();
   ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
   ctx.fillStyle="#00ffff";
   ctx.fill();
 });
 requestAnimationFrame(animate);
}
animate();

</script>

</body>
</html>
