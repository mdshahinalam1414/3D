<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sci-Fi Horizontal Timeline</title>
<style>
body {
  margin:0; padding:0;
  font-family: Arial, sans-serif;
  background: url('https://i.imgur.com/3xEwq5Y.jpg') no-repeat center center fixed;
  background-size: cover;
  color: #fff;
  overflow-x: hidden;
}

/* ===== Add Event Form Fixed Top Right ===== */
#addEvent {
  position: fixed;
  top: 20px; right: 20px;
  background: rgba(0,0,0,0.8);
  padding: 15px;
  border-radius: 10px;
  box-shadow: 0 0 15px #0ff;
  width: 250px;
  z-index: 100;
}
#addEvent input, #addEvent textarea, #addEvent button {
  width: 100%; margin: 8px 0; padding: 8px; border-radius: 5px; border: none;
}
#addEvent button { background: #0ff; color:black; font-weight:bold; cursor:pointer;}
#addEvent button:hover { background:#0cc;}

/* ===== Horizontal Timeline ===== */
.timeline-container {
  display: flex;
  flex-direction: row;
  overflow-x: auto;
  padding: 100px 20px 50px 20px;
  height: 400px;
  align-items: center;
  gap: 30px;
}
.entry {
  min-width: 250px;
  background: rgba(0,0,0,0.6);
  border-radius: 10px;
  padding: 15px;
  box-shadow: 0 0 10px #0ff;
  flex-shrink: 0;
  transition: transform 0.3s;
}
.entry:hover { transform: scale(1.05); }
.entry img { max-width: 100%; border-radius: 6px; margin-top: 10px; }

h2 { text-align:center; margin-top: 20px;}
</style>
</head>
<body>

<h2>Sci-Fi Horizontal Timeline</h2>

<!-- Timeline Horizontal Container -->
<div class="timeline-container" id="timeline"></div>

<!-- Fixed Add Event Form -->
<form id="addEvent">
  <h4>Add Event</h4>
  <input type="date" name="date" required />
  <input type="text" name="title" placeholder="Title" required />
  <textarea name="description" placeholder="Description" required></textarea>
  <input type="url" name="image" placeholder="Image URL (optional)" />
  <button type="submit">Add</button>
</form>

<script>
const SHEET_API = "https://script.google.com/macros/s/AKfycby2KfoQoUV2NppBMJrWhZOaI2gmahBNfLVtG9V0NX_793E0hSvwix-9MEK5YJBi6KRS/exec";

// Load timeline horizontally
async function loadTimeline(){
  const res = await fetch(SHEET_API);
  const data = await res.json();
  const container = document.getElementById("timeline");
  container.innerHTML = '';
  
  data.forEach(item => {
    const div = document.createElement("div");
    div.className = "entry";
    div.innerHTML = `
      <h3>${item.title}</h3>
      <p><i>${item.date}</i></p>
      <p>${item.description}</p>
      ${item.image ? `<img src="${item.image}" />` : ""}
    `;
    container.appendChild(div);
  });
}
loadTimeline();

// Add new event to Google Sheet
document.getElementById("addEvent").addEventListener("submit", async (e) => {
  e.preventDefault();
  const form = e.target;
  const data = {
    date: form.date.value,
    title: form.title.value,
    description: form.description.value,
    image: form.image.value
  };
  
  const res = await fetch(SHEET_API, {
    method: "POST",
    headers: {'Content-Type':'application/json'},
    body: JSON.stringify(data)
  });
  const result = await res.json();
  if(result.status==="success"){
    alert("Event added!");
    form.reset();
    loadTimeline();
  } else { alert("Error adding event"); }
});
</script>

</body>
</html>
